<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Charge Controller | Building DC Energy Systems</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/b/charge-controller/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/b/charge-controller/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/b/charge-controller/favicons/favicon-16x16.png">
    <link rel="manifest" href="/b/charge-controller/favicons/site.webmanifest">
    <link rel="mask-icon" href="/b/charge-controller/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/b/charge-controller/favicons/favicon.ico">
    <meta name="description" content="Open Educational Resource (OER) by Libre Solar to explain how to develop, produce and use components for DC energy systems">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/b/charge-controller/assets/css/0.styles.92322c61.css" as="style"><link rel="preload" href="/b/charge-controller/assets/js/app.49139532.js" as="script"><link rel="preload" href="/b/charge-controller/assets/js/3.7c0ea522.js" as="script"><link rel="preload" href="/b/charge-controller/assets/js/10.74c2e377.js" as="script"><link rel="preload" href="/b/charge-controller/assets/js/41.d59470fe.js" as="script"><link rel="preload" href="/b/charge-controller/assets/js/15.f9c0004f.js" as="script"><link rel="preload" href="/b/charge-controller/assets/js/4.5048e096.js" as="script"><link rel="prefetch" href="/b/charge-controller/assets/js/1.a4a55b9f.js"><link rel="prefetch" href="/b/charge-controller/assets/js/11.bf4b080f.js"><link rel="prefetch" href="/b/charge-controller/assets/js/12.33d664e8.js"><link rel="prefetch" href="/b/charge-controller/assets/js/13.9a1a0d07.js"><link rel="prefetch" href="/b/charge-controller/assets/js/14.f361f255.js"><link rel="prefetch" href="/b/charge-controller/assets/js/16.1c7c6c9c.js"><link rel="prefetch" href="/b/charge-controller/assets/js/17.ec83c422.js"><link rel="prefetch" href="/b/charge-controller/assets/js/18.7a52881e.js"><link rel="prefetch" href="/b/charge-controller/assets/js/19.01a272ba.js"><link rel="prefetch" href="/b/charge-controller/assets/js/20.7e691649.js"><link rel="prefetch" href="/b/charge-controller/assets/js/21.3d6bd2ac.js"><link rel="prefetch" href="/b/charge-controller/assets/js/22.fc2cbfc9.js"><link rel="prefetch" href="/b/charge-controller/assets/js/23.400803d6.js"><link rel="prefetch" href="/b/charge-controller/assets/js/24.af00d462.js"><link rel="prefetch" href="/b/charge-controller/assets/js/25.66153f4d.js"><link rel="prefetch" href="/b/charge-controller/assets/js/26.dc978273.js"><link rel="prefetch" href="/b/charge-controller/assets/js/27.f7fec484.js"><link rel="prefetch" href="/b/charge-controller/assets/js/28.af372418.js"><link rel="prefetch" href="/b/charge-controller/assets/js/29.112d2524.js"><link rel="prefetch" href="/b/charge-controller/assets/js/30.3f99eb0e.js"><link rel="prefetch" href="/b/charge-controller/assets/js/31.e856df99.js"><link rel="prefetch" href="/b/charge-controller/assets/js/32.e64f782b.js"><link rel="prefetch" href="/b/charge-controller/assets/js/33.ce6b84c8.js"><link rel="prefetch" href="/b/charge-controller/assets/js/34.306ba91c.js"><link rel="prefetch" href="/b/charge-controller/assets/js/35.93c4c71c.js"><link rel="prefetch" href="/b/charge-controller/assets/js/36.74a2c2f5.js"><link rel="prefetch" href="/b/charge-controller/assets/js/37.04f0cf97.js"><link rel="prefetch" href="/b/charge-controller/assets/js/38.49f7dd87.js"><link rel="prefetch" href="/b/charge-controller/assets/js/39.ed60a5f8.js"><link rel="prefetch" href="/b/charge-controller/assets/js/40.82d53bbb.js"><link rel="prefetch" href="/b/charge-controller/assets/js/42.509050c1.js"><link rel="prefetch" href="/b/charge-controller/assets/js/43.7d9a3f76.js"><link rel="prefetch" href="/b/charge-controller/assets/js/44.18c9872e.js"><link rel="prefetch" href="/b/charge-controller/assets/js/45.ec2d8726.js"><link rel="prefetch" href="/b/charge-controller/assets/js/46.3356c5d1.js"><link rel="prefetch" href="/b/charge-controller/assets/js/47.671cf50f.js"><link rel="prefetch" href="/b/charge-controller/assets/js/48.efc4f1ec.js"><link rel="prefetch" href="/b/charge-controller/assets/js/5.a4b41643.js"><link rel="prefetch" href="/b/charge-controller/assets/js/6.e36fd189.js"><link rel="prefetch" href="/b/charge-controller/assets/js/7.a7f8cd61.js"><link rel="prefetch" href="/b/charge-controller/assets/js/8.08e76937.js"><link rel="prefetch" href="/b/charge-controller/assets/js/9.471501e2.js">
    <link rel="stylesheet" href="/b/charge-controller/assets/css/0.styles.92322c61.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/b/charge-controller/" class="home-link router-link-active"><!----> <span class="site-name">Building DC Energy Systems</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/b/charge-controller/system/" class="nav-link router-link-active">
  System Layout
</a></div><div class="nav-item"><a href="/b/charge-controller/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/b/charge-controller/production/" class="nav-link">
  Production
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/b/charge-controller/system/" class="nav-link router-link-active">
  System Layout
</a></div><div class="nav-item"><a href="/b/charge-controller/development/" class="nav-link">
  Component Development
</a></div><div class="nav-item"><a href="/b/charge-controller/production/" class="nav-link">
  Production
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Generation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/charge-controller/system/solar_panel.html" class="sidebar-link">Solar Panel</a></li><li><a href="/b/charge-controller/system/wind_turbine.html" class="sidebar-link">Wind Turbines</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Storage</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/charge-controller/system/battery.html" class="sidebar-link">Battery</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Consumption</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/charge-controller/system/dump_load.html" class="sidebar-link">Dump Load</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Power Electronics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/charge-controller/system/charge_controller.html" aria-current="page" class="active sidebar-link">Charge Controller</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#solar" class="sidebar-link">Solar</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#maximum-power-point-tracker" class="sidebar-link">Maximum Power Point Tracker</a></li><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#pwm-series-regulator" class="sidebar-link">PWM Series Regulator</a></li><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#other-types" class="sidebar-link">Other types</a></li><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#mppt-vs-pwm-comparison" class="sidebar-link">MPPT vs. PWM comparison</a></li></ul></li><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#wind" class="sidebar-link">Wind</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#mppt-with-dump-load" class="sidebar-link">MPPT with dump load</a></li><li class="sidebar-sub-header"><a href="/b/charge-controller/system/charge_controller.html#pwm-load-diversion" class="sidebar-link">PWM load diversion</a></li></ul></li></ul></li><li><a href="/b/charge-controller/system/bms.html" class="sidebar-link">Battery Management System</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Connections</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/b/charge-controller/system/wires_fuses.html" class="sidebar-link">Wires and Fuses</a></li><li><a href="/b/charge-controller/system/grounding.html" class="sidebar-link">Grounding</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="charge-controller"><a href="#charge-controller" class="header-anchor">#</a> Charge Controller</h1> <p>A charge controller regulates the voltage and/or current flowing into batteries. By doing so, it prevents the batteries from overcharging and ensures good battery lifetime.</p> <h2 id="solar"><a href="#solar" class="header-anchor">#</a> Solar</h2> <p>Solar energy is the predominant method for off-grid electricity generation, as it does not require any moveable parts and is easily installed.
PWM (Pulse Width Modulation) charge controller is in pratice a switch connected between solar panel and a battery. During bulk or constant current load, the switch is simply closed and the battery is charged with whatever current the panel can provide. The panel's voltage is pulled down which effectively lowers the panels efficiency since it is not operating in its <strong>maximum power point</strong>. After bulk charging, the pwm-controller will apply different duty cycles resulting in current boosts, effectively applying a constant voltage. The cycles are adapted depending on the the battery's charge state. The <strong>interactive</strong> example in Figure [1] shows the power effectively used for charging a battery with a given base voltage. The closer the rated battery voltage to the maximum power point voltage, the higher the overall efficiency.</p> <p>As explained in the <a href="/b/charge-controller/system/solar_panel.html">Solar Panel</a> chapter, the voltage of a solar panel depends on the number of cells, the temperature, the irradiance and the amount current draw.</p> <p>Most 12 V solar panels output 16-20 V in their maximum power point, whereas 12 V batteries usually need around 14-14.5 V to get fully charged. Direct connection of batteries to the solar panel without any regulation causes damage to the batteries as a result of overcharging.</p> <p>There are mainly two different types of charge controllers, the Maximum Power Point Trackers (MPPT) and cheaper pulse-width modulated (PWM) series switch regulators.</p> <h3 id="maximum-power-point-tracker"><a href="#maximum-power-point-tracker" class="header-anchor">#</a> Maximum Power Point Tracker</h3> <figure><center><img src="/b/charge-controller/images/system/mppt-charge-controller.svg" alt="MPPT charge controller" height="auto" width="auto"> <figcaption><b>Figure 1.</b> MPPT charge controller.</figcaption></center></figure> <p>MPPT (Maximum Power Point Tracking) controllers contain a DC-DC converter which matches varying voltage at the solar panel input with the output at the battery side.</p> <p>Because of the typically high conversion efficiencies (&gt;95%), power at input and output remains the same whereas the voltage and current varies correspondingly. In order to get the best out of solar panels, MPPT charge controller finds and operates at optimal current-voltage point. In contrast, PWM controllers operate at the voltage equal to that of battery voltage which is not an optimal current-voltage point resulting in wastage of power. There are many ways to implement the tracking, two will be described here.</p> <h4 id="fractional-open-circuit-voltage"><a href="#fractional-open-circuit-voltage" class="header-anchor">#</a> Fractional Open Circuit Voltage</h4> <p>This methods uses a simple linear relationship between the open circuit and maximum powerpoint voltage:</p> <p></p><p><mjx-container jax="SVG" display="true" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="14.247ex" height="1.927ex" viewBox="0 -694 6297.4 851.8" style="vertical-align:-0.357ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="56" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path></g><g data-mml-node="TeXAtom" transform="translate(583, -150) scale(0.707)"><g data-mml-node="mi"><path data-c="4D" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path></g><g data-mml-node="mi" transform="translate(1051, 0)"><path data-c="50" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mi" transform="translate(1802, 0)"><path data-c="50" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g></g></g><g data-mml-node="mo" transform="translate(2716, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(3771.8, 0)"><path data-c="6B" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="mo" transform="translate(4515, 0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="msub" transform="translate(5015.2, 0)"><g data-mml-node="mi"><path data-c="56" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path></g><g data-mml-node="TeXAtom" transform="translate(583, -150) scale(0.707)"><g data-mml-node="mi"><path data-c="6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(485, 0)"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></g></svg></mjx-container></p><p></p> <p>The factor <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" viewBox="0 -694 521 705" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="6B" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container> can be determined for a given solar panel than used to track the maximum. It is dependant on the panels' temperature though and has to be corrected accordingly. This method is simple to implement though the factor and its temperature dependency has to be adapted to every installation so that the controller itself is not that versatile.</p> <h4 id="perturb-and-observe"><a href="#perturb-and-observe" class="header-anchor">#</a> Perturb and Observe</h4> <p>As described in the <a href="../development/dcdc_converter">DC/DC-Converter chapter</a>, a longer duy cycle corresponds to higher input voltage at the converter which is also the voltage across the panel. With this method, the converter will start to draw small amounts of power with a small duty cycle and closely measure the power output. It will increase the duty cycle and measure again. If the output is increased, it will further increase the duty cycle and so on until the power decreases and the duty cycle is decreased as well. With a high frequeny, this method will find the MPP but will also always move away again and then jump back. Though it will not always be precisely on the MPP, it will stay very close to it and does not need any temperature adjustmenents.</p> <h3 id="pwm-series-regulator"><a href="#pwm-series-regulator" class="header-anchor">#</a> PWM Series Regulator</h3> <figure><center><img src="/b/charge-controller/images/system/pwm-charge-controller.svg" alt="PWM charge controller" height="auto" width="auto"> <figcaption><b>Figure 2.</b> PWM charge controller.</figcaption></center></figure> <p>PWM (Pulse Width Modulation) charge controller is in pratice a switch connected between solar panel and a battery. Instead of providing a steady output, it sends out a series of charging pulses to the battery. The controller constantly checks the state of the battery to determine the frequency and duty cycle of the pulse. In a fully discharged battery, the pulses would be continuous while at the end of the battery charging cycles, pulses get very short to reduce the average current. The controller checks the state of charge on the battery between pulses and adjusts itself each time.</p> <h3 id="other-types"><a href="#other-types" class="header-anchor">#</a> Other types</h3> <h4 id="on-off-regulators"><a href="#on-off-regulators" class="header-anchor">#</a> On/off regulators</h4> <h4 id="shunt-regulators"><a href="#shunt-regulators" class="header-anchor">#</a> Shunt regulators</h4> <h3 id="mppt-vs-pwm-comparison"><a href="#mppt-vs-pwm-comparison" class="header-anchor">#</a> MPPT vs. PWM comparison</h3> <div class="custom-block warning"><p class="custom-block-title">TODO</p> <ul><li>Characteristic curve of solar and what is good about it</li> <li>Interactive graph to explain different performance of MPPT and PWM</li></ul></div> <p>The current-voltage and power-voltage curves of the panels are given in the below interactive graph as shown in Fig.1</p> <p>The red line indicates the battery voltage and the corrsponding power output when using a PWM-controller. Increasing the battery voltage to match the panels voltage would improve the systems performance but as soon as the panels voltage drops, no loading could be done anymore.</p> <div style="overflow:auto;"><div><canvas id="line-chart" width="400" height="400"></canvas></div> <p></p><div class="subhead">Sample data:</div> <div class="left">Voltage in maximum power point:</div> <div class="right"><input type="number" id="vmpp_stc" step="1" value="18.3"> V</div> <div class="left">Current in maximum power point:</div> <div class="right"><input type="number" id="impp_stc" step="1" value="8.27"> A</div> <div class="left">Rated battery voltage:</div> <div class="right"><input type="number" id="vbat" step="0.1" value="12"> V</div> <p style="padding-top:50px"></p><div class="subhead">Actual environmental conditions:</div> <div class="left">Solar Irradiance:</div> <div class="right"><input type="number" id="g" step="100" value="1000" max="1000"> W/m²</div> <div class="left">Ambient Temperature: </div> <div class="right"><input type="number" id="t_ambient" step="5" value="25"> °C</div> <p></p> <p></p></div> <figure><center><figcaption><b>Figure 1.</b> Usable energy MPPT vs. PWM <b>(interactive)</b>.</figcaption></center></figure> <h4 id="temperature-influence"><a href="#temperature-influence" class="header-anchor">#</a> Temperature influence</h4> <p>Temperature has significant effect on the efficiency of charge controllers. As the temperature increases, <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.901ex" height="1.902ex" viewBox="0 -683 1282.1 840.8" style="vertical-align:-0.357ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="56" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path></g><g data-mml-node="TeXAtom" transform="translate(583, -150) scale(0.707)"><g data-mml-node="mi"><path data-c="6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(485, 0)"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></g></svg></mjx-container> decreases i.e, current-voltage curve moves to the left but the current remains almost constant as seen from the interactive graph in Fig.1. Consequently, the power-voltage graph and hence maximum power point also moves towards lower value.
Since the maximum power point moved to the lower value, the power transferred with a MPPT charge controller decreases. At this point, MPPT charge controllers can no longer outperform PWM charge controllers.</p> <h2 id="wind"><a href="#wind" class="header-anchor">#</a> Wind</h2> <p>For small wind turbines without variable-pitch speed-controller, a charge-controller can be used to keep the turbine at optimal rotation speed. Especially for wind speeds below the rated optimal wind, it is beneficial to reduce the load so that the turbine is not slowed down too much. For most turbines, the power coefficient <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.897ex" height="1.65ex" viewBox="0 -442 838.7 729.2" style="vertical-align:-0.65ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g><g data-mml-node="mi" transform="translate(433, -150) scale(0.707)"><path data-c="70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g></g></g></g></svg></mjx-container> is linked to the ratio between blade tips and the wind speed (TSR or <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.319ex" height="1.597ex" viewBox="0 -694 583 706" style="vertical-align:-0.027ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3BB" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"></path></g></g></g></svg></mjx-container>) as shown in Figure [3]. A MPPT can be implemented in different ways. One approach could be to measure wind, rotational speed and have a pre-calculated look-up table for the power coefficient and regulate the accordingly. A major drawback is the pre-calculated look-up table, which is specific to one turbine and has to be verified with measurements in controlled conditions like a wind tunnel. It is also necessary to measure the wind which adds to the complexity.</p> <p>Another, turbine-agnostic way is a dynamic approach where the duty cycle of the converter is permanently changed and the slope of the power production measured. Since the general curve is known (Figure [3]), this mehod will always approach the maximum point independently from any wind or rotational speed measurements.</p> <figure style="width:100%;"><center><img src="/b/charge-controller/images/system/cp_vs_tsr.png" alt="Power coefficient vs. Tip Speed Ratio  [1]" height="auto" width="auto"> <figcaption><b>Figure 3.</b> Power coefficient vs. Tip Speed Ratio  [1].</figcaption></center></figure> <h3 id="mppt-with-dump-load"><a href="#mppt-with-dump-load" class="header-anchor">#</a> MPPT with dump load</h3> <p>Since wind turbines require a <a href="dump_load">dump load</a> to protect it from spinning free, the circuit has to be adopted so that the charge controller can use it.</p> <figure><center><img src="/b/charge-controller/images/system/wind-mppt-charge-controller.svg" alt="Wind MPPT charge controller" height="auto" width="auto"> <figcaption><b>Figure 4.</b> Wind MPPT charge controller.</figcaption></center></figure> <h3 id="pwm-load-diversion"><a href="#pwm-load-diversion" class="header-anchor">#</a> PWM load diversion</h3> <h2>References</h2> <p>[1] R. Kot, , M. Rolak, M. Malinowski: Comparison of maximum peak power tracking algorithms for a small wind turbine, Warsaw, 2013</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/LibreSolar/learn.libre.solar/edit/charge-controller/docs/system/charge_controller.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/20/2020, 10:26:56 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/b/charge-controller/system/dump_load.html" class="prev">
        Dump Load
      </a></span> <span class="next"><a href="/b/charge-controller/system/bms.html">
        Battery Management System
      </a>
      →
    </span></p></div>  <div class="footer">
    Content provided by <a href="https://libre.solar">Libre Solar</a> under <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">CC-BY-SA 4.0 License</a> | <a href="https://libre.solar/about/contact/">Contact / Impressum</a></div></main></div><div class="global-ui"></div></div>
    <script src="/b/charge-controller/assets/js/app.49139532.js" defer></script><script src="/b/charge-controller/assets/js/3.7c0ea522.js" defer></script><script src="/b/charge-controller/assets/js/10.74c2e377.js" defer></script><script src="/b/charge-controller/assets/js/41.d59470fe.js" defer></script><script src="/b/charge-controller/assets/js/15.f9c0004f.js" defer></script><script src="/b/charge-controller/assets/js/4.5048e096.js" defer></script>
  </body>
</html>
